---
layout: post
title: "ERC-4626 표준"
categories:
  - Web3
tags:
  - erc
last_modified_at: 2025-09-10
---

[얼라이언스 깃허브](https://github.com/ERC4626-Alliance/ERCs/blob/master/ERCS/erc-4626.md)
위 글 참고해서 정리했다. 

해당 표준은 단일 기본 EIP-20 토큰의 공유를 위한 볼트의 표준 API를 위해 구현되었다. 
: 이것에 대한 추가 설명이 필요하다. 찾아보니까 DeFi에는 여러 프로토콜이 생겨나면서 토큰

해당 표준은 토큰에 대한 deposit, withdrawing tokens and reading balances를 위한 EIP-20의 확장 버전이다. 

# Specification 

1. 모든 EIP-4626 tokenized vault는 EIP-20을 구현해야 한다. (상하 관계를 말하는듯) 
    1. 이러지 않으면 transfer, transferFrom이 revert 
    2. balanceOf, totalSupply, etc.도 볼트 공유를 통해 작동 
2. 모든 EIP-4626은 EIP-20의 optional metadata extensions를 구현해야 한다. 
    1. functions name, symbol은 기본 토큰의 name, symbol에 reflect되어야 한다. 
3. EIP-4626은 EIP-2612을 구현해야 할 수도 있다. UX를 개선하기 위해서는.. -> MUST는 아님 

# Definitions 
- asset : 볼트가 관리하는 기본 토큰, units는 EIP-20 컨트랙트에 의해 결정된다. 
- share : 볼트의 토큰(관리하는 거 말고 또 점유?되는이라고 써도 되나) 아무튼 이것의 비율은 mint/deposit/withdraw/redeem 같은 assets과의 교환을 통해 정해진다. 
- fee : 수수료. deposits, yield, AUM, withdrawals, or anything else..에서 생김 
- slippage : 광고된!게재된!(원문은 advertised, 약간 시중의? 아 이것도 약간 오역 같은데) share price와 economic realities(실제로 거래된 금액 말하는듯)의 차이, 수수료는 아님 

# Methods 
## asset 
볼트에서 사용되는 기초 자산이다. 

1. MUST be an EIP-20 token contract 
2. MUST NOT revert 

```yaml 
- name: asset
  type: function
  stateMutability: view

  inputs: []

  outputs:
    - name: assetTokenAddress
      type: address
```

## totalAssets
1. SHOULD include any compounding that occurs from yield. 
2. MUST be inclusive of any fees that are charged against assets in the vault.
3. MUST NOT revert 

```yaml
- name: totalAssets
  type: function
  stateMutability: view

  inputs: []

  outputs:
    - name: totalManagedAssets
      type: uint256
```

아 이렇게 정리해보니까 ㅇㅋ 
1. 이 함수들의 기능으로 function 잡을 수 있는 룰 개발 
2. type, stateMutability 검사 + inputs와 outputs의 type 검사 
## convertToShares 
## convertToAssets 
## maxDeposit 
## previewDeposit 
## deposit 
mint는 나중에 정리한다.. 