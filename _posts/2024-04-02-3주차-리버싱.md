---
layout: post
title: "[3주차] 디버깅 실습 문서화"
categories: [System Hacking]
tags: []
last_modified_at: 2024-04-02
---

x32dbg로 실습 진행했다. 실습 방법은 동일하다.

![첫 화면](https://blog.kakaocdn.net/dna/bSCCge/btsGipLcMwc/AAAAAAAAAAAAAAAAAAAAAAeeaD6NUWfH9WxPDIAf6lbKv3fkrq7G840APfg6o78I/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=7IZq%2FA4KftFzThkrwupsuuoLrgA%3D)

파일 열고 첫 화면이다.

![파일 열기](https://blog.kakaocdn.net/dna/nKqJT/btsGgZGDZ81/AAAAAAAAAAAAAAAAAAAAAM_un-KuCZzDgR8Q_lc7o5l6ZPqTK04y6ov_mMZIZVtx/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=YoeAd0ApIvMZMIlcQnYjwEXYmZc%3D)

main 함수에 진입하려면 __cexit을 찾는 게 빠르다. 우클릭->다음을 찾기를 하면 기호 카테고리에서 위와 같은 화면이 나오는데 왼쪽은 모듈, 오른쪽은 symbol이 있다. symbol에서 cexit을 검색해준다. 해당 주소를 클릭하고 우클릭->참조 찾기를 하면

![참조 찾기](https://blog.kakaocdn.net/dna/AzYuB/btsGga9GwH5/AAAAAAAAAAAAAAAAAAAAAFinjwUPY8OCwp7SdFaNFbN-T-9VP0JfMJHl0zsHubXm/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=2O1RussQVLHCkGUhCdTy3dPheGM%3D)

위와 같이 나오는데 다시 이걸 참조 찾기 해보면 오른쪽과 같이 나온다.

![참조 결과](https://blog.kakaocdn.net/dna/cjZ0sT/btsGhGGZFpd/AAAAAAAAAAAAAAAAAAAAACsPz5vH1Sl2TiG2RoF4k-ZCrWWAmcAaGiTkuMuQM2Cq/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=wnm5PWvcZGdZETGh1vog51yukFw%3D)

참조한 주소를 찾아가서 위를 보면 project4._wmain이 뜬다.

![project4._wmain](https://blog.kakaocdn.net/dna/cKhoG1/btsGidRQQaK/AAAAAAAAAAAAAAAAAAAAAOdjQn90nkqqMsCK_vRCglLkzQR71dWCT0nGdQjwPhMx/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=ItYAKMZJM1paAzyuNUlJz%2BdS0lI%3D)

진입해보면 "swing 31", "Hello world" 같은 문자열이 나온다.

문자열 검색 방법

우클릭->검색->현재 모듈->문자열 찾기를 하면 위와 같은 화면이 뜬다.

![문자열 찾기](https://blog.kakaocdn.net/dna/R4fe3/btsGfM17pC2/AAAAAAAAAAAAAAAAAAAAAGFPnMohogtzmU2iGMTWJyqq_ocAT7igkEW0b6JjA5fk/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=WLDNiag4dfTLGthzRi%2Br%2FAnYL%2FM%3D)

주소를 더블 클릭하면 참조한 명령 주소로 갈 수 있다.

모듈 호출 찾기

우클릭->검색->현재 모듈->모듈간 호출하면 위와 같이 뜬다. MessageBoxW가 쓰인 주소를 더블 클릭하면

![모듈 호출 결과](https://blog.kakaocdn.net/dna/vaUZn/btsGeQDU2nr/AAAAAAAAAAAAAAAAAAAAANuqnG2Yl-DCeu0FyVptW_bu2I8H5Z25Lyt2-WfHgQ8s/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=6PCnYFyoSnV8C6lKJHmXCFWXHKQ%3D)

위와 같이 이동한다.

![이동 결과](https://blog.kakaocdn.net/dna/b0LT93/btsGiepGPrV/AAAAAAAAAAAAAAAAAAAAAFcFsCqGRgXM8dlLP-1-Ezgqu_z5XOEuvQzhcrfeUO4-/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1769871599&allow_ip=&allow_referer=&signature=sV%2BDipjNWqDSXfaFQ17lFHUIM9s%3D)

혹은 아까 cexit 검색한 것처럼 기호 카테고리에서도 name을 검색하여 찾을 수 있다.